<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Apresentação Especial</title>
  <style>
    :root{
      --red:#d9250d;
      --dark:#222;
      --text:#fff;
      --maxw:1200px;
      --bar-h:56px;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:#fff;color:#0b0b0b;font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif}
    /* barra fixa (mobile safe) */
    .topbar{
      position:fixed;left:0;right:0;top:0;
      min-height:var(--bar-h);
      padding:calc(env(safe-area-inset-top,0) + 10px) 14px 10px;
      background:var(--red);color:var(--text);
      display:flex;align-items:center;justify-content:center;text-align:center;
      font-weight:700;font-size:clamp(12px,3.2vw,15px);
      z-index:9999; line-height:1.3;
      white-space:nowrap;
    }
    .topbar .city{font-weight:900;white-space:nowrap;padding:0 3px}

    /* layout */
    main{
      max-width:var(--maxw);
      margin:0 auto;
      padding:calc(var(--bar-h) + 22px + env(safe-area-inset-top,0)) 14px 24px;
    }

    /* player responsivo – reserva espaço com aspect-ratio */
    .player-wrap{
      width:100%;max-width:100%;
      margin:0 auto;
      display:block;
      aspect-ratio:16/9;
      background:#0077ff0d;
      border-radius:8px; overflow:hidden;
    }
    /* o elemento real do player ocupa toda área */
    vturb-smartplayer, .player-wrap > *{
      display:block;width:100%;height:100%;
    }

    /* contador */
    .viewers{
      margin:12px 0 28px;
      text-align:center;
      font-size:clamp(14px,3.8vw,16px);
      color:#222;opacity:.9
    }

    /* rodapé */
    footer{background:var(--dark);color:var(--text);padding:28px 14px calc(22px + env(safe-area-inset-bottom,0))}
    .foot-inner{max-width:var(--maxw);margin:0 auto;text-align:center;opacity:.95}
    .foot-inner a{color:#e6e6e6;text-decoration:none}
    .foot-inner a:hover{text-decoration:underline}
    .muted{opacity:.85}

    /* ajustes extras em telas muito pequenas */
    @media (max-width:360px){
      .topbar{font-size:12.5px}
      .viewers{font-size:13.5px}
    }
  </style>
</head>
<body>
  <div class="topbar">
    Usted y algunas personas de <span class="city">&gt;&gt;&nbsp;Maputo&nbsp;&lt;&lt;</span> han sido seleccionados para ver esta presentación.
  </div>

  <main>
    <div class="player-wrap">
      <vturb-smartplayer id="vid-6910f4953cf93344c37ca45c"></vturb-smartplayer>
    </div>

    <div class="viewers">
      <span id="viewerCount">563</span> pessoas estão assistindo agora...
    </div>
  </main>

  <footer>
    <div class="foot-inner">
      <div class="muted">Copyright 2025 - Gluco Zero App ®</div>
      <div class="muted">Todos os Direitos Reservados</div>
      <div style="margin-top:8px;">
        <a href="#">Condiciones de uso</a> · <a href="#">Privacidad</a>
      </div>
      <div style="margin-top:10px;">Insira um disclaimer aqui...</div>
    </div>
  </footer>

  <!-- VTurb -->
  <script>
    (function(){
      var s=document.createElement("script");
      s.src="https://scripts.converteai.net/9d93e4b2-3654-4bea-bda0-107c1328d520/players/6910f4953cf93344c37ca45c/v4/player.js";
      s.async=true; document.head.appendChild(s);
    })();
  </script>

  <!-- Cidade + contador -->
  <script>
    async function setCityText(city){
      const span=document.querySelector('.topbar .city');
      if(!span) return;
      span.textContent=">>" + (city||"sua área") + "<<";
    }
    (async function(){
      try{
        const r=await Promise.race([
          fetch("https://ipapi.co/json/"),
          new Promise((_,rej)=>setTimeout(()=>rej(new Error("timeout")),4000))
        ]);
        if(r && r.ok){
          const j=await r.json();
          const city=j.city||j.region||j.country_name;
          setCityText(city);
          return;
        }
      }catch(e){}
      setCityText("Maputo");
    })();

    (function viewersTicker(){
      const el=document.getElementById('viewerCount');
      let count=Math.floor(500+Math.random()*500);
      const clamp=(v,min,max)=>Math.max(min,Math.min(max,v));
      const render=()=>el.textContent=String(count);
      render();
      function tick(){
        const delta=Math.floor((Math.random()*13)-5);
        count=clamp(count+delta,500,999);
        render();
        setTimeout(tick, 8000+Math.random()*10000);
      }
      setTimeout(tick, 6000+Math.random()*6000);
    })();
  </script>
</body>
</html>
